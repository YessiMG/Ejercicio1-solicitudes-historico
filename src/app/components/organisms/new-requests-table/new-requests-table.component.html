<div class="content-table new-requests-container mat-elevation-z8">
    <form [formGroup]="form">
        <table mat-table [dataSource]="dataSource" formArrayName="customerRequests">
          <tr mat-header-row *matHeaderRowDef="displayColumns"></tr>
          <tr
            mat-row
            *matRowDef="let row; let i = index; columns: displayColumns"
          ></tr>
      
          <ng-container matColumnDef="registrationNumber">
            <th mat-header-cell *matHeaderCellDef>Matrícula / FMI</th>
            <td mat-cell *matCellDef="let row; let index = index" [formGroupName]="index">
                <mat-form-field class="columns-inputs" appearance="fill">
                    <input matInput placeholder="Ej. 0000FMI" formControlName="registrationNumber" required>
                </mat-form-field>
            </td>
          </ng-container>
    
          <ng-container matColumnDef="documentType">
            <th mat-header-cell *matHeaderCellDef>Tipo Documento</th>
            <td mat-cell *matCellDef="let row; let index = index" [formGroupName]="index">
                <mat-form-field class="columns-inputs" appearance="fill">
                    <select matNativeControl placeholder="Tipo Documento" required formControlName="documentType" required>
                        <option value="CC">CC</option>
                        <option value="CE">CE</option>
                        <option value="NIT">NIT</option>
                      </select>
                </mat-form-field>
            </td>
          </ng-container>
    
          <ng-container matColumnDef="documentNumber">
            <th mat-header-cell *matHeaderCellDef>Número Documento</th>
            <td mat-cell *matCellDef="let row; let index = index" [formGroupName]="index">
                <mat-form-field class="columns-inputs" appearance="fill">
                    <input matInput placeholder="Número Documento" formControlName="documentNumber" required>
                </mat-form-field>
            </td>
          </ng-container>
    
          <ng-container matColumnDef="customerName">
            <th mat-header-cell *matHeaderCellDef>Nombre del cliente</th>
            <td mat-cell *matCellDef="let row; let index = index" [formGroupName]="index">
                <mat-form-field class="columns-inputs" appearance="fill">
                    <input matInput placeholder="Nombre del cliente" formControlName="customerName" required>
                </mat-form-field>
            </td>
          </ng-container>
    
          <ng-container matColumnDef="customerEmail">
            <th mat-header-cell *matHeaderCellDef>Correo</th>
            <td mat-cell *matCellDef="let row; let index = index" [formGroupName]="index">
                <mat-form-field class="columns-inputs" appearance="fill">
                    <input matInput type="email" placeholder="Correo" formControlName="customerEmail" required>
                </mat-form-field>
            </td>
          </ng-container>
    
          <ng-container matColumnDef="businessType">
            <th mat-header-cell *matHeaderCellDef>Negocio</th>
            <td mat-cell *matCellDef="let row; let index = index" [formGroupName]="index">
                <mat-form-field class="columns-inputs" appearance="fill">
                    <input matInput placeholder="Negocio" formControlName="businessType" readonly>
                </mat-form-field>
            </td>
          </ng-container>
    
          <ng-container matColumnDef="requestDate">
            <th mat-header-cell *matHeaderCellDef>Fecha solicitud</th>
            <td mat-cell *matCellDef="let row; let index = index" [formGroupName]="index">
                <mat-form-field class="columns-inputs" appearance="fill">
                    <input matInput [matDatepicker]="picker" placeholder="Fecha solicitud" formControlName="requestDate" required>
                    <mat-hint>MM/DD/YYYY</mat-hint>
                    <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                    <mat-datepicker #picker></mat-datepicker>
                </mat-form-field>
            </td>
          </ng-container>
      
          <ng-container matColumnDef="requestNumber">
            <th mat-header-cell *matHeaderCellDef>Número de Solicitud</th>
            <td mat-cell *matCellDef="let row; let index = index" [formGroupName]="index">
                <mat-form-field class="columns-inputs" appearance="fill">
                    <input matInput placeholder="Número de Solicitud" formControlName="requestNumber" readonly>
                </mat-form-field>
            </td>
          </ng-container>
    
          <ng-container matColumnDef="value">
            <th mat-header-cell *matHeaderCellDef>Valor</th>
            <td mat-cell *matCellDef="let row; let index = index" [formGroupName]="index">
                <mat-form-field class="columns-inputs" appearance="fill">
                    <input matInput placeholder="Valor" formControlName="value" required>
                </mat-form-field>
            </td>
          </ng-container>
        </table>
        <div class="action-button">
          <button mat-mini-fab [ngStyle]="{background: principalColor}" type="button" (click)="addRow()"><mat-icon>add</mat-icon></button>
          <br>
          <br>
          <button mat-raised-button [ngStyle]="{background: secundaryColor}" (click)="saveRequests()">Enviar solicitudes</button>
        </div>
      </form>
</div>